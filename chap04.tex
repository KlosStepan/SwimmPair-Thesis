\chapter{Testing}
There are two main ways to make sure that a web application works properly and fulfills it's role. On one hand there is a code performance testing, performing test on backend level with dummy data insertion and performance benchmarking. On the other hand there is testing to assure that users are able to use system and to get inspiration for future ux iterations via SUS.
\section{Performance testing}
Performance script \textbf{dummy\_data\_benchmark.php} \footnote{In https://github.com/KlosStepan/SwimmPair-Www \textbf{dummy\_data\_benchmark.php}} is located in main swimmpair folder. It is performed on default database installation (w/ 2 admin users, w/ already existing clubs administered by application requesters, and default referee positions).  
\newline
\textbf{The script has several tasks (tests) which are performed and benchmarked.}
\begin{enumerate}
    \item \underline{Create 98 Users} (no. 3-100) - each random affiliation to existing Club (no. 1-15).
    \item \underline{Create 12 Cups} - each random affiliation to existing Club (no. 1-15).
    \item \underline{Fetch new Users}, \underline{fetch new Cups} (+ \underline{fetch static Positions}).
    \item \underline{Create Availabilities} (20 Users available per Cup).
    \item \underline{Create Pairings} (each Availability gets 1 random position).
    \item \underline{Call stats queries} (20 - randomly either Clubs or Users stats w/ random club\_id or user\_id).
\end{enumerate}
\textbf{Docker Compose} - 2.3 GHz Core i5 (I5-8259U) RAM 16GB Storage 512GB
\newline
\begin{tabular}{ |c|c|c|c|c|c|c|c|c|c|c|c| } 
    \hline
    Tasks & \#1 & \#2& \#3& \#4& \#5& \#6& \#7& \#8& \#9& \#10 \\
    \hline
    Test \#1 & 6.57 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#2 & 0.05 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#3 & 6.57 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#4 & 1.14 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#5 & 7.57 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#6 & 1.18 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    TOTAL RT & \textbf{8.75} & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    \hline
\end{tabular}
\newline
\textbf{Kubernetes} - \textbf{DOKS} Kubernetes v 1.25.4-do.0, \textbf{2x Node} s-1vcpu-2gb-intel
\newline
\begin{tabular}{ |c|c|c|c|c|c|c|c|c|c|c|c| } 
    \hline
    Tasks & \#1 & \#2& \#3& \#4& \#5& \#6& \#7& \#8& \#9& \#10 \\
    \hline
    Test \#1 & 0.00 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#2 & 0.00 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#3 & 0.00 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#4 & 0.00 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#5 & 0.00 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    Test \#6 & 0.00 & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    TOTAL RT & \textbf{0.00} & 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00& 0.00 \\ 
    \hline
\end{tabular}
\section{User testing}
SUS preparation
\newline
We collected SUS fedbacks from 20 people potentially using this system
\newline
TODO
\begin{lstlisting}
//1. Create 98 Users - random affil to 1-15
$usersManager->RegisterUser($first_name, $last_name, $email, 12345, $rights[$rights_idx], $ranks[$rrid_idx]->id, $clubs[$club_idx]->id);
//2. Create 12 Cups
$cupsManager->InsertNewCup($cups_names[$cup_name_idx]." ".rand(1, 8), "2023-".str_pad($j, 2, '0', STR_PAD_LEFT)."-26", "2023-".str_pad($j, 2, '0', STR_PAD_LEFT)."-28", $clubs[$club_idx]->id, $content[$content_idx]);
//3. Fetch new Users and Cups (&positions)
$users = $usersManager->FindAllActiveUsersOrderByLastNameAsc();
$cups = $cupsManager->FindAllUpcomingCupsEarliestFirst();
$positions = $positionsManager->FindAllPositions();
//4. Create Availabilities
$cupsManager->InsertNewAvailability($cups[$k]->id, $users[$user_idx[$kk]]->id, 1);
//5. Create Pairings (availabilities 1 random pos. for each)
$cupsManager->InsertNewPairing(($l+1), $positions[$position_idx]->id, $avails[$ll]->id);
echo("6. Call stats queries (20 either Clubs/Users stat queryings)<br/>\r\n");
$personCupsCount = $usersManager->CountCupsAttendanceOfUserGivenYear($users[$user_idx]->id, $year);
$stats_cups = $usersManager->CountOverallStatisticsOfUserGivenYear($users[$user_idx]->id, $year);
$stats_users = $usersManager->CountClubSeasonalStatistics($clubs[$club_idx]->id, $year);

\end{lstlisting}
\includegraphics[scale=0.707]{img/app-benchmarking.png}

\subsection{description of methodic}
asdhjkl
\subsection{result table}
a b c d e f 20proc, 4/5 atd.
